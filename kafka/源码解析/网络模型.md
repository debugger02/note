## kafka/network/SocketServer.scala

SocketServer 处理 from/to broker 的新连接、请求、响应。

kafka 支持两种类型的请求平台：
1. data-plane:
    - 处理来自 client 或者集群中其他 broker 的请求
    - 线程模型为：1 个 listener 对应 1 个 Acceptor，用于处理新连接，1 个 broker 为一个 Accepter,所以在 listener 配置中尽可能配置多个 Acceptor。每个 Acceptor 拥有 N 个 Processor 线程，每个线程拥有自己的 selector，M 个 Handler 线程来处理请求与响应并返回给 Processor。

2. control-plane:
    - 处理来自 controller 的请求。在 control.plane.listener.name 进行指定配置，如果没有配置，controller 请求将被 data-plane处理。(controller 并非指controller 节点)。
    - 线程模型为：1 个 Acceptor 线程处理新连接，Acceptor 拥有 1 个 Processor 线程，Processor 线程拥有自己的 seletor 从 socket 读取请求，1 个 Processor 拥有 1 个 Handler 线程处理请求和响应。

data-plane: 主从Reactor多线程，1 个 mainReactor，多个 subReactor，subReactor 个数可与 CPU 数相同；<br/>
control-plane: 为单Reactor多线程，1 个 Reactor,多个线程处理。